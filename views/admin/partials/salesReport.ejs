

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Admin | User Management</title>
    <link rel="stylesheet" href="/admin/css/style.css">

    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css"
        integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.1/css/dataTables.bootstrap5.min.css" />
</head>
<%-include('../layout/adminHeader')%>
<body>
    


<div class="container" style="margin-top: 100px;">
    
    <h2>Sales Report</h2>
    <div class="row" style="width: 550px;"> 
        <div class="col-lg-4">
        <label class="form-label" for="form3Example1">From Date</label>
        <input name="fromDate" type="date" value="" id="fromdate" class="form-control"> 
        </div><div class="col-lg-4">
        <label class="form-label" for="form3Example1">To Date</label>
        <input name="toDate" type="date" value="" id="todate" class="form-control"> 
        </div>
       
        <div class="col-lg-4">
            <label class="form-label" for="form3Example1"></label><br>
            
            <!-- <a class="btn btn-sm btn-success" href="" onclick="this.href='/adminloginpage/Dashboard/datewisesales?fromdate=document.getElementById('fromdate').value&todate=document.getElementById('todate').value'" style="align-items: center;justify-content: center; margin-top: 10px;">View</a> -->
            <a class="btn btn-sm btn-success" href="" onclick="this.href='/adminloginpage/Dashboard/datewisesales?fromdate='+document.getElementById('fromdate').value+'&todate='+document.getElementById('todate').value" style="align-items: center;justify-content: center; margin-top: 10px;">View</a>
        </div>
    </div>
    <br> <br>
    <table id="example" class="table">
        <thead>
            <tr>
                <th style="background-color:#AC7253">Order No</th>
                <th style="background-color:#AC7253">Order Date</th>
                 <th style="background-color:#AC7253">Customer Name</th>
                 <th style="background-color:#AC7253">Total amount</th>
                 <th style="background-color:#AC7253">Payment Mode</th>
                <th style="background-color:#AC7253">Order Status</th>
               
            </tr>
            
           
          
        </thead>
        <tbody>
          
            <% if(orderdata.length>0){
            
                 var totalsales=0 
                for(let i=0;i<orderdata.length;i++){
                    totalsales=totalsales+orderdata[i].totalAmount
                    %>
                    
                     <tr style="background-color:#CBA693">
                        
                        <td><a href="" style="text-decoration:none; color:black"><%=orderdata[i].orderNo%></a></td>
                        
                        <td><a href="" style="text-decoration:none; color:black"><%=orderdata[i].orderDate%></a></td>
                        <td><a href="" style="text-decoration:none; color:black"><%=orderdata[i].customerData[0].first_name%></a></td>
                        <td><a href="" style="text-decoration:none; color:black"><%=orderdata[i].totalAmount%></a></td>
                        <td><a href="" style="text-decoration:none; color:black"><%=orderdata[i].paymode%></a></td>
                         <td><a href="" style="text-decoration:none; color:black"><%=orderdata[i].orderstatus%></a></td>
                       
                  

                       
                       
                     </tr>
                     
                    <%
                    
                }
               
                
        
            }else{
                %>
        
                <td colspan="5">No Sales Available</td>
                <%
            }
            %>

            <td style="font-weight: bold;width: 150px">Total Sales:<%=totalsales%></td>

            
        </tbody>
      </table>

      <a class="btn btn-sm btn-danger" href="/adminloginpage/Dashboard/salesReportDownload" style="align-items: center;justify-content: center;">Download as PDF</a>
</div>



        <script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.js"></script>
        <script type="text/javascript" src="https://cdn.datatables.net/1.12.1/js/jquery.dataTables.min.js"></script>
        <!-- <script type="text/javascript" src="https://cdn.datatables.net/1.12.1/js/dataTables.bootstrap5.min.js"></script>

        <script>
            $(document).ready(function () {
                $("#example").DataTable();
            });
        </script> -->

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
            crossorigin="anonymous"></script>
</body>

</html>